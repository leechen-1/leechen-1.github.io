<!DOCTYPE html><head> <meta http-equiv='Content-Type' content='text/html;charset=utf-8'><meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no'><title></title><style>a {color: #607fa6;text-decoration:none;word-wrap:break-word;word-break:break-all;}.rich_media_title{padding-bottom:10px;margin-bottom:14px;border-bottom:1px solid #e7e7eb;}.rich_media_meta{display:inline-block;vertical-align:middle;margin-right:8px;margin-bottom:10px;font-size:16px;}.rich_media_meta_text{color:#8c8c8c;}.rich_media_meta_list em {font-style: normal;}@media screen and (max-width:768px){.rich_media{position: relative;padding: 20px 15px 15px;background-color: #fff;}}.rich_media_content * {max-width: 100%!important;box-sizing: border-box!important;-webkit-box-sizing: border-box!important;word-wrap: break-word!important;}a.rich_media_meta_nickname{display: none;}@media screen and (min-width:1025px){.rich_media{position:relative;}a.rich_media_meta_nickname{display:inline-block!important;}span.rich_media_meta_nickname {display: none!important;}.rich_media {width:740px;margin-left:auto;margin-right:auto;}}a.fwjm{display: block;font-size: 12px;color: #ececec;}</style></head><body><div id='js_article' class='rich_media'><div><a href='https://mp.weixin.qq.com/s?__biz=MzIyNTY4NjU0OQ==&mid=2247485674&idx=1&sn=9d903cc2c9b2ec8f381b3c4ccf95a41c&chksm=e87aad90df0d2486a73a959f5084ee713b8341124aefa091f8544bcedeec63bcacb15a02ef9f&mpshare=1&scene=1&srcid=10254ZjvVUKIa2Wit8q65aEw#rd' target='_blank'>https://mp.weixin.qq.com/s?__biz=MzIyNTY4NjU0OQ==&mid=2247485674&idx=1&sn=9d903cc2c9b2ec8f381b3c4ccf95a41c&chksm=e87aad90df0d2486a73a959f5084ee713b8341124aefa091f8544bcedeec63bcacb15a02ef9f&mpshare=1&scene=1&srcid=10254ZjvVUKIa2Wit8q65aEw#rd</a><a href='https://www.52pojie.cn' class='fwjm' target='_blank'>提供的爬取软件来源于：52pojie.cn@夜泉  免费使用</a></div><div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">
                    
                    
                    Android-支付宝支付开发流程

                                                                                </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                                                <span class="rich_media_meta rich_media_meta_text">
                                                FBY展菲
                                            </span>
                                        
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" id="js_name">
                        秦子帅                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">秦子帅</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">Android_qzs</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">「秦子帅」专注于Android、Java、Python技术分享，从起步到进阶，坚持原创，认真总结每一个阶段的技术干货，包括面试、设计模式架构，性能优化、技术功能实现等；不仅如此，还会分享一些职场经验感悟。每个月都会争取送书活动给大家。</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text"></em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);" data-mpa-powered-by="yiban.io"><span style="color: rgb(136, 136, 136);font-size: 15px;">点击上方蓝字关注&nbsp;👆👆</span><br  /></p><section mpa-paragraph-type="ignored" style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);"><br  /></section><section class="" data-mpa-template-id="1257" data-mpa-color="#ffffff" data-mpa-category="divider" style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);"><p style="margin-right: 8px;margin-left: 8px;"><img class="__bg_gif" data-ratio="0.03125" data-type="gif" data-w="640" width="auto" src="images/gIkzzLe4eUX3pxtlSo4wibHuXcgsAXFrXnEFPehAbAC0BFoIvibDyMaZhCjF9ykJJP5SBrZhO9AjPicssibfnwuE2A.png" style="visibility: visible !important;width: auto !important;"  /></p></section><blockquote style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);"><p style="color: rgb(90, 90, 90);font-size: 16px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 1px;line-height: 30.4px;widows: 1;word-spacing: 1px;"><span style="color: rgb(178, 178, 178);font-size: 10px;">来源：FBY展菲</span></p><p style="color: rgb(90, 90, 90);font-size: 16px;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 1px;line-height: 30.4px;widows: 1;word-spacing: 1px;"><span style="letter-spacing: 2px;word-spacing: 2px;color: rgb(178, 178, 178);font-size: 10px;">https://juejin.im/post/5a31e6adf265da430c11d41f</span></p></blockquote><h1 style="margin: 15px 8px;font-weight: bold;white-space: normal;color: rgb(62, 62, 62);font-family: sans-serif;border-bottom: 2px solid rgb(221, 221, 221);text-align: justify;background-color: rgb(255, 255, 255);line-height: 1.75em;"><span style="color: rgb(49, 147, 105);font-family: Arial;line-height: 19.8px;white-space: pre-wrap;font-size: 18px;">前言</span></h1><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">项目中要用到支付功能，需要支付宝支付、微信支付、银联支付，所以打算总结一下，方便以后的查阅，也方便大家， 用到的地方避免再次被坑。 今天我们就主要介绍一下支付宝支付，其他支付也给出了对应的连接。</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">在做支付之前，在网上也查寻了资料，大多都说，支付接入坑太多，微信坑最多，银联文档太复杂。 其实如果接入的多的话，那些套路都可以绕着走。 网上的经验什么的大都是比较老的，比较新的能用到的文章不多（但是好文章还是有的，对我帮助也很大），下面给大家详细介绍一下，帮助大家绕开坑。</span></p><h1 style="margin: 15px 8px;font-weight: bold;white-space: normal;color: rgb(62, 62, 62);font-family: sans-serif;border-bottom: 2px solid rgb(221, 221, 221);text-align: justify;background-color: rgb(255, 255, 255);line-height: 1.75em;"><span style="color: rgb(49, 147, 105);font-family: Arial;line-height: 19.8px;white-space: pre-wrap;font-size: 18px;">交互流程</span></h1><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">建议先把开发文档仔仔细细看一遍，一定要看，刚开始的时候没有老老实实地看完，结果遇到很多的坑，浪费的挺多的时间的，所以建议一定要好好看看，特别是<strong>交互流程</strong>这一部分。地址为：</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 12px;">https://docs.open.alipay.com/59/103658</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;"><strong>1.功能流程</strong></span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: center;line-height: 1.75em;"><img class="lazyload inited loaded" data-height="703" data-ratio="0.5669354838709677" src="images/82jN7o40p6mjlxYWFJCOMyCJ1iaVdeicdcGvMAtWvlekbKVkvER2qG0Fh9QCia2WB4sGmEedic7f2oGy95x8h2hCuQ.other" data-type="other" data-w="1240" data-width="1240" style="border-style: none;max-height: none;visibility: visible;background-color: rgb(255, 255, 255);background-position: 50% center;background-repeat: no-repeat;cursor: zoom-in;color: rgb(51, 51, 51);box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;border-radius: 3px;"  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><br  /></p><ul class=" list-paddingleft-2" style="margin-left: 8px;margin-right: 8px;"><li><p style="text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">第4步：调用支付接口：此消息就是本接口所描述的开发包提供的支付对象PayTask，将商户签名后的订单信息传进pay方法唤起支付宝收银台，订单格式具体参见“请求参数说明”。</span></p></li><li><p style="text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">第5步：支付请求：手机支付宝支付开发包将会按照商户客户端提供的请求参数发送支付请求。</span></p></li><li><p style="text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">第8步：接口返回支付结果：商户客户端在第4步中调用的支付接口，会返回最终的支付结果（即同步通知），参见“同步通知参数说明”。</span></p></li><li><p style="text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">第12步：异步发送支付通知：手机支付宝支付服务器端发送异步通知消息给商户服务器端（备注：第12步一定发生在第6步之后，但不一定晚于7~11步），参见“服务器异步通知参数说明”。</span></p></li></ul><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: normal;"><span style="font-size: 14px;"><strong><br  /></strong></span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;"><strong>2.数据交互</strong></span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><span style="font-size: 14px;"><img class="lazyload inited loaded" data-height="833" data-ratio="0.6717741935483871" src="images/82jN7o40p6mjlxYWFJCOMyCJ1iaVdeicdcibHb0icjRt575XUpmYcx3TUYwTbICPsWxMq45q21NWDaSuBvnyODHUMg.other" data-type="other" data-w="1240" data-width="1240" style="border-style: none;max-height: none;visibility: visible;background-position: 50% center;background-repeat: no-repeat;cursor: zoom-in;color: rgb(51, 51, 51);border-radius: 3px;box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;"  /></span><br  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">支付宝支付的功能流程相比较微信支付来说简单的很，如上面两张图展示的，我们的App（也就是商户客户端）所做的大概只有三个步骤：</span></p><ul class=" list-paddingleft-2" style="margin-left: 8px;margin-right: 8px;"><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">生成订单，调用支付宝接口</span></p></li><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">发送订单</span></p></li><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">返回订单支付结果并处理</span></p></li></ul><h1 style="margin: 15px 8px;font-weight: bold;white-space: normal;color: rgb(62, 62, 62);font-family: sans-serif;border-bottom: 2px solid rgb(221, 221, 221);text-align: justify;background-color: rgb(255, 255, 255);line-height: 1.75em;"><span style="color: rgb(49, 147, 105);font-family: Arial;line-height: 19.8px;white-space: pre-wrap;font-size: 18px;">下载支付宝SDK</span></h1><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">支付宝业务众多，真想找到想要的支付sdk还是要费一番功夫的，这里给出sdk地址：</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 12px;">https://docs.open.alipay.com/54/104509</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">(注意的是下载出来的SDK包里面并没有传说中的开发文档，需要其他地方找或者看网页上的)</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">想要接入支付宝移动支付功能，必须在支付宝商家服务平台进行申请与审核。</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">支付宝商家服务平台地址：</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 12px;">https://b.alipay.com/signing/productSet.htm?navKey=all</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">移动支付功能需要企业或者个体工商户进行申请，审核通过之后方可使用。如何与支付宝签约并审核请参考官方文档：移动支付-接入指南，地址为：</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 12px;">https://docs.open.alipay.com/58/103541</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">里面详细介绍了产品签约与审核流程。并且详细介绍了申请成功之后如何查看或生成必要的一些配置参数。</span></p><h1 style="margin: 15px 8px;font-weight: bold;white-space: normal;color: rgb(62, 62, 62);font-family: sans-serif;border-bottom: 2px solid rgb(221, 221, 221);text-align: justify;background-color: rgb(255, 255, 255);line-height: 1.75em;"><span style="color: rgb(49, 147, 105);font-family: Arial;line-height: 19.8px;white-space: pre-wrap;font-size: 18px;">导入开发SDK及配置</span></h1><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;">这里我只写一下Android Studio下的导入步骤：</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><strong><span style="font-size: 14px;">1.</span></strong><span style="font-size: 14px;">将支付宝SDK拷贝到项目libs文件夹下，如果没有libs文件夹，就新建一个</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><img class="lazyload inited loaded" data-height="88" data-ratio="0.14715719063545152" src="images/82jN7o40p6mjlxYWFJCOMyCJ1iaVdeicdcIQo6c82dTpzic87fdwMmFG0RmM5o9NicDQb5FCLgqjKAm7BEMicofux0Q.other" data-type="other" data-w="598" data-width="598" style="border-style: none;max-height: none;visibility: visible;background-position: 50% center;background-repeat: no-repeat;cursor: zoom-in;color: rgb(51, 51, 51);box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;border-radius: 3px;"  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);"><strong><span style="font-size: 14px;">2.</span></strong><span style="font-size: 14px;">如果sdk使用过程中，提示找不到文件。 进行如下操作，选中sdk文件，右击选择Reveal in Finder</span></span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><span style="font-size: 14px;"><img class="lazyload inited loaded" data-height="1266" data-ratio="1.2895833333333333" src="images/82jN7o40p6mjlxYWFJCOMyCJ1iaVdeicdcIpgkcOceXqXLwZQIUvDYmq9wNXmYUAlG0nicicBIoXLs6jCSO3xOhtJw.other" data-type="other" data-w="960" data-width="982" style="border-style: none;max-height: none;visibility: visible;background-position: 50% center;background-repeat: no-repeat;cursor: zoom-in;color: rgb(51, 51, 51);box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;border-radius: 3px;"  /></span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);"><strong>3.</strong>修改AndroidManifest.xml配置</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">在商户应用工程的AndroidManifest.xml文件里面添加声明：</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="color: rgb(51, 51, 51);"></span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="white-space: normal;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;"><p style="margin-right: 8px;margin-left: 8px;padding: 6.66667px;border-radius: 4px;font-size: 0.85em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);overflow-x: auto;white-space: nowrap;text-align: justify;line-height: 1.5em;"><span style="font-size: 11px;">&lt;activity<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:name=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 249px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"com.alipay.sdk.app.H5PayActivity"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:configChanges=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 286px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"orientation|keyboardHidden|navigation"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:exported=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"false"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:screenOrientation=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"behind"</span>&nbsp;&gt;<br  /><span class="xml" style="background: rgba(0, 0, 0, 0);display: inline;width: 80px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;/<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">activity</span>&gt;</span><br  />&lt;activity<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:name=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 249px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"com.alipay.sdk.auth.AuthActivity"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:configChanges=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 286px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"orientation|keyboardHidden|navigation"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:exported=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"false"</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;android:screenOrientation=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"behind"</span>&nbsp;&gt;<br  /><span class="xml" style="background: rgba(0, 0, 0, 0);display: inline;width: 81px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;/<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">activity</span>&gt;</span></span></p></pre></section><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="color: rgb(51, 51, 51);"></span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="white-space: normal;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;"><p style="margin-right: 8px;margin-left: 8px;padding: 6.66667px;border-radius: 4px;font-size: 0.85em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);overflow-x: auto;white-space: nowrap;text-align: justify;line-height: 1.5em;"><span style="font-size: 11px;"><span class="hljs-default-tag" style="background: rgba(0, 0, 0, 0);display: inline;width: 454px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 110px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">uses-permission</span>&nbsp;<span class="hljs-default-attr" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 88px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">android:name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 212px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"android.permission.INTERNET"</span>&nbsp;/&gt;</span><br  /><span class="hljs-default-tag" style="background: rgba(0, 0, 0, 0);display: inline;width: 542px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 110px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">uses-permission</span>&nbsp;<span class="hljs-default-attr" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 88px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">android:name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 300px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"android.permission.ACCESS_NETWORK_STATE"</span>&nbsp;/&gt;</span><br  /><span class="hljs-default-tag" style="background: rgba(0, 0, 0, 0);display: inline;width: 520px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 110px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">uses-permission</span>&nbsp;<span class="hljs-default-attr" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 88px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">android:name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 278px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"android.permission.ACCESS_WIFI_STATE"</span>&nbsp;/&gt;</span><br  /><span class="hljs-default-tag" style="background: rgba(0, 0, 0, 0);display: inline;width: 513px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 110px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">uses-permission</span>&nbsp;<span class="hljs-default-attr" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 88px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">android:name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 271px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"android.permission.READ_PHONE_STATE"</span>&nbsp;/&gt;</span><br  /><span class="hljs-default-tag" style="background: rgba(0, 0, 0, 0);display: inline;width: 557px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">&lt;<span class="hljs-default-name" style="color: rgb(224, 108, 117);background: rgba(0, 0, 0, 0);display: inline;width: 110px;text-decoration-style: solid;text-decoration-color: rgb(224, 108, 117);">uses-permission</span>&nbsp;<span class="hljs-default-attr" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 88px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">android:name</span>=<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 314px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"android.permission.WRITE_EXTERNAL_STORAGE"</span>&nbsp;/&gt;</span></span></p></pre></section><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: normal;"><br  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);"><strong>4.</strong>添加混淆规则</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">在商户应用工程的proguard-project.txt里添加以下相关规则：</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><br  /></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="white-space: normal;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;"><p style="margin-right: 8px;margin-left: 8px;padding: 6.66667px;border-radius: 4px;font-size: 0.85em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);overflow-x: auto;white-space: nowrap;text-align: justify;line-height: 1.5em;"><span style="font-size: 11px;">-libraryjars libs/alipaySDK<span class="hljs-default-number" style="color: rgb(209, 154, 102);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration-style: solid;text-decoration-color: rgb(209, 154, 102);">-20150602.</span>jar<br  /><br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 279px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">android</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">IAlixPay</span>{</span>*;}<br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 316px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">android</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 58px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">IAlixPay</span>$<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">Stub</span>{</span>*;}<br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 381px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">android</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 161px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">IRemoteServiceCallback</span>{</span>*;}<br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 418px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">android</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 161px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">IRemoteServiceCallback</span>$<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 30px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">Stub</span>{</span>*;}<br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 242px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">sdk</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">PayTask</span>{</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">public</span>&nbsp;*;}<br  />-keep&nbsp;<span class="hljs-default-class" style="background: rgba(0, 0, 0, 0);display: inline;width: 250px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">class</span>&nbsp;<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">com</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">alipay</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">sdk</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">app</span>.<span class="hljs-default-title" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">AuthTask</span>{</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">public</span>&nbsp;*;}</span></p></pre></section><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="color: rgb(51, 51, 51);"></span><span style="font-size: 14px;color: rgb(0, 0, 0);"><strong>注意：</strong>第一行中的alipaySDK-20150602.jar，其中20150602是此版本发布的日期，注意将其修改为你导入的Jar的相应的文件名。</span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: normal;"><span style="color: rgb(51, 51, 51);"><br  /></span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">到这里，支付宝支付的前期配置已经完成，下面需要完成支付代码编写。</span></p><h1 style="margin: 15px 8px;font-weight: bold;white-space: normal;color: rgb(62, 62, 62);font-family: sans-serif;border-bottom: 2px solid rgb(221, 221, 221);text-align: justify;background-color: rgb(255, 255, 255);line-height: 1.75em;"><span style="color: rgb(49, 147, 105);font-family: Arial;line-height: 19.8px;white-space: pre-wrap;font-size: 18px;">支付宝接口调用</span></h1><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;"><strong>1.</strong>在点击支付按钮的点击事件中，我提供的是从后端获取订单字符串，然后调用支付宝接口，调起支付。</span></p><p style="margin-right: 8px;margin-left: 8px;white-space: normal;text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;"><strong>2.</strong>需要在新线程中调用支付接口。代码如下：</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="white-space: normal;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;"><p style="margin-right: 8px;margin-left: 8px;padding: 6.66667px;border-radius: 4px;font-size: 0.85em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);overflow-x: auto;white-space: nowrap;text-align: justify;line-height: 1.5em;"><span style="font-size: 11px;"><span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 97px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// &nbsp; &nbsp;支付按钮</span><br  />&nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">public</span>&nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 30px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">void</span>&nbsp;onClick(View view) {<br  />&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 81px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">//起一个线程</span><br  />&nbsp; &nbsp; &nbsp; &nbsp;Runnable payRunnable =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Runnable() {<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-meta" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration-style: solid;text-decoration-color: rgb(97, 174, 238);">@Override</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">public</span>&nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 30px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">void</span>&nbsp;run() {<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>&nbsp;data =&nbsp;<span class="hljs-default-literal" style="color: rgb(86, 182, 194);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(86, 182, 194);">null</span>;<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PayBean payBean =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;PayBean();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;payBean.setOrderTime(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">""</span>);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>&nbsp;json =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Gson().toJson(payBean);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 498px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">//json为获取后端结果时需要提供给后端订单信息，例如：时间、金额、订单属性等</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Log.i(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 118px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"charge request"</span>, json);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">try</span>&nbsp;{<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 270px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">//data为后端返回数据，其中包括订单字符串</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;data = postJson(CHARGE_URL, json);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 37px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">catch</span>&nbsp;(IOException e) {<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;e.printStackTrace();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// Json解析data</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ChargeBean charge =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Gson().fromJson(data, ChargeBean.class);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 262px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">//获取调起支付所需要的字符串credential</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>&nbsp;credential = (<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>) charge.getResult().getCredential();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 102px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 调起支付界面</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PayTask alipay =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;PayTask(ThirdActivity.this);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Map&lt;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>,&nbsp;<span class="hljs-default-built_in" style="color: rgb(230, 192, 123);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(230, 192, 123);">String</span>&gt; result = alipay.payV2(credential,&nbsp;<span class="hljs-default-literal" style="color: rgb(86, 182, 194);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(86, 182, 194);">true</span>);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 220px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">//在mHandler中处理支付宝返回结果</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Message msg =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Message();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg.what = SDK_PAY_FLAG;<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msg.obj = result;<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mHandler.sendMessage(msg);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br  />&nbsp; &nbsp; &nbsp; &nbsp;};<br  />&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 101px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 必须异步调用</span><br  />&nbsp; &nbsp; &nbsp; &nbsp;Thread payThread =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Thread(payRunnable);<br  />&nbsp; &nbsp; &nbsp; &nbsp;payThread.start();<br  />&nbsp; &nbsp;}</span></p></pre></section><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: normal;"><br  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);"><strong>3.</strong>在mHandler中处理支付结果</span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" class="mpa-template" mpa-preserve="t" style="white-space: normal;"><pre style="margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;"><p style="margin-right: 8px;margin-left: 8px;padding: 6.66667px;border-radius: 4px;font-size: 0.85em;background: rgb(40, 44, 52);color: rgb(171, 178, 191);overflow-x: auto;white-space: nowrap;text-align: justify;line-height: 1.5em;"><span style="font-size: 11px;"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 51px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">private</span>&nbsp;Handler mHandler =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 22px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;Handler() {<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-function" style="background: rgba(0, 0, 0, 0);display: inline;width: 286px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);"><span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">public</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">void</span>&nbsp;<span class="hljs-default-title" style="color: rgb(97, 174, 238);background: rgba(0, 0, 0, 0);display: inline;width: 96px;text-decoration-style: solid;text-decoration-color: rgb(97, 174, 238);">handleMessage</span>(<span class="hljs-default-params" style="background: rgba(0, 0, 0, 0);display: inline;width: 81px;text-decoration-style: solid;text-decoration-color: rgb(171, 178, 191);">Message msg</span>)&nbsp;</span>{<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">if</span>&nbsp;(msg.what == SDK_PAY_FLAG) {<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>, (String) msg.obj,<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.LENGTH_LONG).show();<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PayResult payResult =&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 21px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">new</span>&nbsp;PayResult((Map&lt;String, String&gt;) msg.obj);<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 672px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">/**<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 对于支付结果，请商户依赖服务端的异步通知结果。同步通知结果，仅作为支付结束的通知。<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String resultInfo = payResult.getResult();<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 169px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 同步返回需要验证的信息</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;String resultStatus = payResult.getResultStatus();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 522px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 判断resultStatus 为“9000”则代表支付成功，具体状态码代表含义可参考接口文档</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 16px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">if</span>&nbsp;(resultStatus.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">equals</span>(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 43px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"9000"</span>)) {<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 68px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"支付成功"</span>, Toast.LENGTH_SHORT).show();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">else</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">if</span>&nbsp;(resultStatus.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">equals</span>(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"4000"</span>)){<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 398px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 4000为支付失败，包括用户主动取消支付，或者系统返回的错误</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 68px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"支付失败"</span>, Toast.LENGTH_SHORT).show();<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">else</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">if</span>&nbsp;(resultStatus.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">equals</span>(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"6001"</span>)){<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 251px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 6001为取消支付，或者系统返回的错误</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 68px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"取消支付"</span>, Toast.LENGTH_SHORT).show();<br  /><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">else</span>&nbsp;<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">if</span>&nbsp;(resultStatus.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">equals</span>(<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 44px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"8000"</span>)) {<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 812px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// "8000"代表支付结果因为支付渠道原因或者系统原因还在等待支付结果确认，最终交易是否成功以服务端异步通知为准（小概率状态）</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"支付结果确认中"</span>, Toast.LENGTH_SHORT).show();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">else</span>&nbsp;{<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-default-comment" style="color: rgb(92, 99, 112);background: rgba(0, 0, 0, 0);display: inline;width: 156px;text-decoration-style: solid;text-decoration-color: rgb(92, 99, 112);font-style: italic;">// 其他为系统返回的错误</span><br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Toast.makeText(ThirdActivity.<span class="hljs-default-keyword" style="color: rgb(198, 120, 221);background: rgba(0, 0, 0, 0);display: inline;width: 29px;text-decoration-style: solid;text-decoration-color: rgb(198, 120, 221);">this</span>,&nbsp;<span class="hljs-default-string" style="color: rgb(152, 195, 121);background: rgba(0, 0, 0, 0);display: inline;width: 68px;text-decoration-style: solid;text-decoration-color: rgb(152, 195, 121);">"支付错误"</span>, Toast.LENGTH_SHORT).show();<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br  />&nbsp; &nbsp; &nbsp; &nbsp;}<br  />&nbsp; &nbsp;};</span></p></pre></section><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: normal;"><br  /></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">以下四种为常用结果判断</span></p><ul class=" list-paddingleft-2" style="margin-left: 8px;margin-right: 8px;"><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">9000为支付成功&nbsp;</span></p></li><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">4000为支付失败&nbsp;</span></p></li><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">6001为取消支付&nbsp;</span></p></li><li><p style="margin-right: 8px;margin-left: 8px;color: rgb(62, 62, 62);font-size: 16px;background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="font-size: 14px;color: rgb(0, 0, 0);">8000为支付结果确认中</span></p></li></ul><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: justify;line-height: 1.75em;"><span style="color: rgb(0, 0, 0);"><strong><span style="font-size: 14px;">4.</span></strong><span style="font-size: 14px;">调起支付宝页面截图</span></span></p><p style="margin-right: 8px;margin-left: 8px;font-size: 16px;white-space: normal;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);text-align: center;line-height: 1.75em;"><img class="lazyload inited loaded" data-height="960" data-ratio="1.7777777777777777" src="images/82jN7o40p6mjlxYWFJCOMyCJ1iaVdeicdcUPLffbNhf1xUvB94icoPawDRM1sRJVvXoY5fMQcC9FLlvs7pv5d2Dow.other" data-type="other" data-w="540" data-width="540" style="border-style: none;visibility: visible;background-position: 50% center;background-repeat: no-repeat;cursor: zoom-in;color: rgb(51, 51, 51);width: 325.188px;box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;border-radius: 3px;"  /></p><p style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><br  /><span style="font-size: 14px;">有什么疑问可以加我的微信：<br  /></span><br  /><img class="" data-ratio="1.1960227272727273" data-s="300,640" data-type="png" data-w="352" src="images/LZNTfm7aFpsyflRELuwMrITjx6ia9uMHA4uqq1NrZv05Gh1VFEoXAuyg2SGZYd1tB4EJntgTBxo6SygRQSNOoXg.png" style="font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;line-height: 29.75px;widows: 1;box-shadow: none;width: 34%;visibility: visible !important;height: auto !important;"  /></p><p style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><span style="font-size: 18px;line-height: 28.8px;"><br  />—————END—————</span></p><p cid="n591" mdtype="paragraph" class="" style="margin-top: 0.8em;margin-bottom: 0.8em;color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);"><span class="" cid="n586" mdtype="line" style="display: block;"></span></p><p style="color: rgb(51, 51, 51);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 17px;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;"><img class="" data-copyright="0" data-ratio="0.85546875" data-s="300,640" data-type="jpeg" data-w="1280" src="images/82jN7o40p6l0Vy2ocd75T8S24xIXu30L1E6fobXtfLEzNwDn0sz5FTYmeImh2uenBbEzxCX0ic1srPmqcDNHNng.jpeg" style="visibility: visible !important;width: 521.285px !important;"  /></p>
                </div>
                

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name">FBY展菲</div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x3534dd.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                
                
                            </div></div></body>